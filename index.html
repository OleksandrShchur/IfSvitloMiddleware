<!DOCTYPE html>
<script>
    const API_BASE = "https://be-svitlo.oe.if.ua/schedule-by-queue?queue=";

    async function loadSchedule() {
        const params = new URLSearchParams(window.location.search);
        const queue = params.get("queue");

        if (!queue) {
            document.write(JSON.stringify({ error: "Queue not specified" }));
            return;
        }

        try {
            const response = await fetch(API_BASE + encodeURIComponent(queue));
            const data = await response.json();
            document.write(JSON.stringify(data, null, 2));
        } catch (err) {
            document.write(JSON.stringify({ error: err.message }));
        }
    }

    loadSchedule();
</script>
